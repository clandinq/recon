<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Statistical Tests in R | A Short Programming Guide for Economics Research</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.32 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Statistical Tests in R | A Short Programming Guide for Economics Research" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Statistical Tests in R | A Short Programming Guide for Economics Research" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="César Landín" />


<meta name="date" content="2023-04-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="generating-publication-quality-tables.html"/>
<link rel="next" href="geographic-place-matching.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> This is a dummy chapter</a></li>
<li class="chapter" data-level="2" data-path="ggplot.html"><a href="ggplot.html"><i class="fa fa-check"></i><b>2</b> Tips for using <code>ggplot</code> to generate publication-quality graphs</a>
<ul>
<li class="chapter" data-level="2.1" data-path="ggplot.html"><a href="ggplot.html#plot-margins"><i class="fa fa-check"></i><b>2.1</b> Plot margins</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="ggplot.html"><a href="ggplot.html#removing-white-space-around-the-plot"><i class="fa fa-check"></i><b>2.1.1</b> Removing white space around the plot</a></li>
<li class="chapter" data-level="2.1.2" data-path="ggplot.html"><a href="ggplot.html#removing-white-space-between-axes-and-plot"><i class="fa fa-check"></i><b>2.1.2</b> Removing white space between axes and plot</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="ggplot.html"><a href="ggplot.html#axis-labels"><i class="fa fa-check"></i><b>2.2</b> Axis labels</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="ggplot.html"><a href="ggplot.html#removing-axis-labels"><i class="fa fa-check"></i><b>2.2.1</b> Removing axis labels</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="ggplot.html"><a href="ggplot.html#legends"><i class="fa fa-check"></i><b>2.3</b> Legends</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="ggplot.html"><a href="ggplot.html#removing-the-legend-title"><i class="fa fa-check"></i><b>2.3.1</b> Removing the legend title</a></li>
<li class="chapter" data-level="2.3.2" data-path="ggplot.html"><a href="ggplot.html#removing-black-boxes-around-legend-keys"><i class="fa fa-check"></i><b>2.3.2</b> Removing black boxes around legend keys</a></li>
<li class="chapter" data-level="2.3.3" data-path="ggplot.html"><a href="ggplot.html#putting-the-legend-inside-the-figure"><i class="fa fa-check"></i><b>2.3.3</b> Putting the legend inside the figure</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="ggplot.html"><a href="ggplot.html#number-formatting-functions"><i class="fa fa-check"></i><b>2.4</b> Number formatting functions</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="ggplot.html"><a href="ggplot.html#calculating-the-mean-median-and-standard-deviation-of-a-variable"><i class="fa fa-check"></i><b>2.4.1</b> Calculating the mean, median and standard deviation of a variable</a></li>
<li class="chapter" data-level="2.4.2" data-path="ggplot.html"><a href="ggplot.html#checking-if-a-number-is-an-integer."><i class="fa fa-check"></i><b>2.4.2</b> Checking if a number is an integer.</a></li>
<li class="chapter" data-level="2.4.3" data-path="ggplot.html"><a href="ggplot.html#number-formatting-function"><i class="fa fa-check"></i><b>2.4.3</b> Number formatting function</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="ggplot.html"><a href="ggplot.html#multiplot-figures"><i class="fa fa-check"></i><b>2.5</b> Multiplot figures</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="ggplot.html"><a href="ggplot.html#auxiliary-functions-to-remove-figure-components-axes-legend"><i class="fa fa-check"></i><b>2.5.1</b> Auxiliary functions to remove figure components: axes, legend</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="generating-publication-quality-tables.html"><a href="generating-publication-quality-tables.html"><i class="fa fa-check"></i><b>3</b> Generating publication-quality tables</a>
<ul>
<li class="chapter" data-level="3.1" data-path="generating-publication-quality-tables.html"><a href="generating-publication-quality-tables.html#guidelines-for-table-formatting"><i class="fa fa-check"></i><b>3.1</b> Guidelines for table formatting</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="generating-publication-quality-tables.html"><a href="generating-publication-quality-tables.html#horizontal-and-vertical-lines"><i class="fa fa-check"></i><b>3.1.1</b> Horizontal and vertical lines</a></li>
<li class="chapter" data-level="3.1.2" data-path="generating-publication-quality-tables.html"><a href="generating-publication-quality-tables.html#column-headings"><i class="fa fa-check"></i><b>3.1.2</b> Column headings</a></li>
<li class="chapter" data-level="3.1.3" data-path="generating-publication-quality-tables.html"><a href="generating-publication-quality-tables.html#symbols"><i class="fa fa-check"></i><b>3.1.3</b> Symbols</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="generating-publication-quality-tables.html"><a href="generating-publication-quality-tables.html#an-example-using-the-iris-dataset"><i class="fa fa-check"></i><b>3.2</b> An example using the <code>iris</code> dataset</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="generating-publication-quality-tables.html"><a href="generating-publication-quality-tables.html#two-simple-models-using-the-iris-dataset"><i class="fa fa-check"></i><b>3.2.1</b> Two simple models using the <code>iris</code> dataset</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="generating-publication-quality-tables.html"><a href="generating-publication-quality-tables.html#adjusting-table-size-and-position"><i class="fa fa-check"></i><b>3.3</b> Adjusting table size and position</a></li>
<li class="chapter" data-level="3.4" data-path="generating-publication-quality-tables.html"><a href="generating-publication-quality-tables.html#updating-variable-names-and-adding-a-caption-and-label"><i class="fa fa-check"></i><b>3.4</b> Updating variable names and adding a caption and label</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="generating-publication-quality-tables.html"><a href="generating-publication-quality-tables.html#updating-independent-variable-names"><i class="fa fa-check"></i><b>3.4.1</b> Updating independent variable names</a></li>
<li class="chapter" data-level="3.4.2" data-path="generating-publication-quality-tables.html"><a href="generating-publication-quality-tables.html#adding-dependent-variable-names-and-model-numbers"><i class="fa fa-check"></i><b>3.4.2</b> Adding dependent variable names and model numbers</a></li>
<li class="chapter" data-level="3.4.3" data-path="generating-publication-quality-tables.html"><a href="generating-publication-quality-tables.html#adding-a-multicolumn-title"><i class="fa fa-check"></i><b>3.4.3</b> Adding a multicolumn title</a></li>
<li class="chapter" data-level="3.4.4" data-path="generating-publication-quality-tables.html"><a href="generating-publication-quality-tables.html#adding-a-caption-and-title-to-the-table"><i class="fa fa-check"></i><b>3.4.4</b> Adding a caption and title to the table</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="generating-publication-quality-tables.html"><a href="generating-publication-quality-tables.html#final-table-formatting"><i class="fa fa-check"></i><b>3.5</b> Final table formatting</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="generating-publication-quality-tables.html"><a href="generating-publication-quality-tables.html#updating-the-number-of-observations"><i class="fa fa-check"></i><b>3.5.1</b> Updating the number of observations</a></li>
<li class="chapter" data-level="3.5.2" data-path="generating-publication-quality-tables.html"><a href="generating-publication-quality-tables.html#inserting-additional-data-rows"><i class="fa fa-check"></i><b>3.5.2</b> Inserting additional data rows</a></li>
<li class="chapter" data-level="3.5.3" data-path="generating-publication-quality-tables.html"><a href="generating-publication-quality-tables.html#distributing-coefficient-names-over-two-rows"><i class="fa fa-check"></i><b>3.5.3</b> Distributing coefficient names over two rows</a></li>
<li class="chapter" data-level="3.5.4" data-path="generating-publication-quality-tables.html"><a href="generating-publication-quality-tables.html#inserting-space-between-variables"><i class="fa fa-check"></i><b>3.5.4</b> Inserting space between variables</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="generating-publication-quality-tables.html"><a href="generating-publication-quality-tables.html#putting-it-all-together"><i class="fa fa-check"></i><b>3.6</b> Putting it all together</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="generating-publication-quality-tables.html"><a href="generating-publication-quality-tables.html#combining-everything-into-one-simple-function"><i class="fa fa-check"></i><b>3.6.1</b> Combining everything into one simple function</a></li>
<li class="chapter" data-level="3.6.2" data-path="generating-publication-quality-tables.html"><a href="generating-publication-quality-tables.html#adding-footnotes"><i class="fa fa-check"></i><b>3.6.2</b> Adding footnotes</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="generating-publication-quality-tables.html"><a href="generating-publication-quality-tables.html#preparing-tables-for-presentations"><i class="fa fa-check"></i><b>3.7</b> Preparing tables for presentations</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="generating-publication-quality-tables.html"><a href="generating-publication-quality-tables.html#generating-presentation-versions-of-tables"><i class="fa fa-check"></i><b>3.7.1</b> Generating presentation versions of tables</a></li>
<li class="chapter" data-level="3.7.2" data-path="generating-publication-quality-tables.html"><a href="generating-publication-quality-tables.html#removing-standard-errors-and-column-numbers"><i class="fa fa-check"></i><b>3.7.2</b> Removing standard errors and column numbers</a></li>
<li class="chapter" data-level="3.7.3" data-path="generating-publication-quality-tables.html"><a href="generating-publication-quality-tables.html#adding-notes"><i class="fa fa-check"></i><b>3.7.3</b> Adding notes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="statistical-tests-in-r.html"><a href="statistical-tests-in-r.html"><i class="fa fa-check"></i><b>4</b> Statistical Tests in R</a>
<ul>
<li class="chapter" data-level="4.1" data-path="statistical-tests-in-r.html"><a href="statistical-tests-in-r.html#easy-hypothesis-tests-in-r"><i class="fa fa-check"></i><b>4.1</b> Easy hypothesis tests in R</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="geographic-place-matching.html"><a href="geographic-place-matching.html"><i class="fa fa-check"></i><b>5</b> Geographic place matching</a>
<ul>
<li class="chapter" data-level="5.1" data-path="geographic-place-matching.html"><a href="geographic-place-matching.html#google-places-api-searches"><i class="fa fa-check"></i><b>5.1</b> Google Places API searches</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A Short Programming Guide for Economics Research</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="statistical-tests-in-r" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Chapter 4</span> Statistical Tests in R<a href="statistical-tests-in-r.html#statistical-tests-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In this section, we introduce functions for performing hypothesis tests on model coefficients using the <code>multcomp</code> package.
We introduce a function called <code>extract_test_coef</code> that tests a hypothesis on model parameters and extracts the resulting p-values of the test.
Then, we show the usage of the function with an example using the <code>iris</code> dataset.</p>
<div id="easy-hypothesis-tests-in-r" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Easy hypothesis tests in R<a href="statistical-tests-in-r.html#easy-hypothesis-tests-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>First, load the required packages and the <code>iris</code> dataset.
The packages needed are <code>tidyverse</code> for data manipulation, <code>fixest</code> for estimating models, <code>modelsummary</code> for displaying model results, <code>multcomp</code> for estimating hypothesis tests and <code>conflicted</code> to deal with conflicts in function names.
With package <code>conflicted</code>, we can specify which package to use for a given function.
Since <code>multcomp</code> and <code>dplyr</code> conflict in multiple functions, we can specify which package to use for each function and give preference to <code>dplyr</code>.
The <code>iris</code> dataset contains measurements of 4 attributes for 50 flowers from 3 different species.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="statistical-tests-in-r.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load packages</span></span>
<span id="cb47-2"><a href="statistical-tests-in-r.html#cb47-2" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse, fixest, modelsummary, multcomp, </span>
<span id="cb47-3"><a href="statistical-tests-in-r.html#cb47-3" aria-hidden="true" tabindex="-1"></a>               conflicted, fastDummies)</span>
<span id="cb47-4"><a href="statistical-tests-in-r.html#cb47-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-5"><a href="statistical-tests-in-r.html#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Resolve conflicts</span></span>
<span id="cb47-6"><a href="statistical-tests-in-r.html#cb47-6" aria-hidden="true" tabindex="-1"></a><span class="fu">conflict_prefer</span>(<span class="st">&quot;select&quot;</span>, <span class="st">&quot;dplyr&quot;</span>)</span>
<span id="cb47-7"><a href="statistical-tests-in-r.html#cb47-7" aria-hidden="true" tabindex="-1"></a><span class="fu">conflict_prefer</span>(<span class="st">&quot;filter&quot;</span>, <span class="st">&quot;dplyr&quot;</span>)</span>
<span id="cb47-8"><a href="statistical-tests-in-r.html#cb47-8" aria-hidden="true" tabindex="-1"></a><span class="fu">conflict_prefer</span>(<span class="st">&quot;last&quot;</span>, <span class="st">&quot;dplyr&quot;</span>)</span>
<span id="cb47-9"><a href="statistical-tests-in-r.html#cb47-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-10"><a href="statistical-tests-in-r.html#cb47-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Load iris data</span></span>
<span id="cb47-11"><a href="statistical-tests-in-r.html#cb47-11" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(iris)</span>
<span id="cb47-12"><a href="statistical-tests-in-r.html#cb47-12" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(iris)</span></code></pre></div>
<pre><code>##   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
## 1          5.1         3.5          1.4         0.2  setosa
## 2          4.9         3.0          1.4         0.2  setosa
## 3          4.7         3.2          1.3         0.2  setosa
## 4          4.6         3.1          1.5         0.2  setosa
## 5          5.0         3.6          1.4         0.2  setosa
## 6          5.4         3.9          1.7         0.4  setosa</code></pre>
<p>Next, we define terciles of sepal width and a simple model using package <code>fixest</code>.
We show the model results using the <code>mshow</code> function defined in the previous chapter.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="statistical-tests-in-r.html#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define terciles of sepal width</span></span>
<span id="cb49-2"><a href="statistical-tests-in-r.html#cb49-2" aria-hidden="true" tabindex="-1"></a>proc_data <span class="ot">&lt;-</span> iris <span class="sc">%&gt;%</span></span>
<span id="cb49-3"><a href="statistical-tests-in-r.html#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sepal_width_tercile =</span> <span class="fu">ntile</span>(Sepal.Width, <span class="dv">3</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb49-4"><a href="statistical-tests-in-r.html#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">dummy_cols</span>(<span class="st">&quot;sepal_width_tercile&quot;</span>)</span>
<span id="cb49-5"><a href="statistical-tests-in-r.html#cb49-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-6"><a href="statistical-tests-in-r.html#cb49-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Define coefficient names</span></span>
<span id="cb49-7"><a href="statistical-tests-in-r.html#cb49-7" aria-hidden="true" tabindex="-1"></a>coef_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Sepal length&quot;</span>, <span class="st">&quot;First tercile sepal width&quot;</span>, <span class="st">&quot;Second tercile sepal width&quot;</span>, <span class="st">&quot;Third tercile sepal width&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb49-8"><a href="statistical-tests-in-r.html#cb49-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">set_names</span>(<span class="fu">c</span>(<span class="st">&quot;Sepal.Length&quot;</span>, <span class="fu">str_c</span>(<span class="st">&quot;sepal_width_tercile_&quot;</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)))</span>
<span id="cb49-9"><a href="statistical-tests-in-r.html#cb49-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-10"><a href="statistical-tests-in-r.html#cb49-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Define model </span></span>
<span id="cb49-11"><a href="statistical-tests-in-r.html#cb49-11" aria-hidden="true" tabindex="-1"></a>m1 <span class="ot">&lt;-</span> <span class="fu">feols</span>(Petal.Width <span class="sc">~</span> <span class="dv">0</span> <span class="sc">+</span> Sepal.Length <span class="sc">+</span> sepal_width_tercile_1 <span class="sc">+</span> sepal_width_tercile_2 <span class="sc">+</span> sepal_width_tercile_3,</span>
<span id="cb49-12"><a href="statistical-tests-in-r.html#cb49-12" aria-hidden="true" tabindex="-1"></a>            <span class="at">se =</span> <span class="st">&quot;hetero&quot;</span>,</span>
<span id="cb49-13"><a href="statistical-tests-in-r.html#cb49-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">data =</span> proc_data)</span>
<span id="cb49-14"><a href="statistical-tests-in-r.html#cb49-14" aria-hidden="true" tabindex="-1"></a><span class="fu">mshow</span>(<span class="fu">list</span>(<span class="st">&quot;Petal width&quot;</span> <span class="ot">=</span> m1), <span class="at">coef_map =</span> coef_names)</span></code></pre></div>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:center;">
Petal width
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Sepal length
</td>
<td style="text-align:center;">
0.732***
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.041)
</td>
</tr>
<tr>
<td style="text-align:left;">
First tercile sepal width
</td>
<td style="text-align:center;">
−2.882***
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.242)
</td>
</tr>
<tr>
<td style="text-align:left;">
Second tercile sepal width
</td>
<td style="text-align:center;">
−3.083***
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.237)
</td>
</tr>
<tr>
<td style="text-align:left;">
Third tercile sepal width
</td>
<td style="text-align:center;">
−3.261***
</td>
</tr>
<tr>
<td style="text-align:left;box-shadow: 0px 1px">
</td>
<td style="text-align:center;box-shadow: 0px 1px">
(0.215)
</td>
</tr>
<tr>
<td style="text-align:left;">
Num.Obs.
</td>
<td style="text-align:center;">
150
</td>
</tr>
</tbody>
</table>
<p>The next step is to use the function <code>extract_test_coef</code> to test two hypothesis:
1. The effect of the first tercile of sepal width on petal width is equal to the effect of the second tercile of sepal width on petal width
2. The effect of the first tercile of sepal width on petal width is equal to the effect of the third tercile of sepal width on petal width The function returns p-values for each test.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="statistical-tests-in-r.html#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Define function</span></span>
<span id="cb50-2"><a href="statistical-tests-in-r.html#cb50-2" aria-hidden="true" tabindex="-1"></a>extract_test_coef <span class="ot">&lt;-</span> <span class="cf">function</span>(model, coef) {</span>
<span id="cb50-3"><a href="statistical-tests-in-r.html#cb50-3" aria-hidden="true" tabindex="-1"></a>  res <span class="ot">&lt;-</span> model <span class="sc">%&gt;%</span> </span>
<span id="cb50-4"><a href="statistical-tests-in-r.html#cb50-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">glht</span>(<span class="at">linfct =</span> <span class="fu">paste0</span>(coef, <span class="st">&quot;= 0&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb50-5"><a href="statistical-tests-in-r.html#cb50-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">confint</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb50-6"><a href="statistical-tests-in-r.html#cb50-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summary</span>()</span>
<span id="cb50-7"><a href="statistical-tests-in-r.html#cb50-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(<span class="fu">as.numeric</span>(res<span class="sc">$</span>test<span class="sc">$</span>pvalues))</span>
<span id="cb50-8"><a href="statistical-tests-in-r.html#cb50-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb50-9"><a href="statistical-tests-in-r.html#cb50-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-10"><a href="statistical-tests-in-r.html#cb50-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Test hypotheses</span></span>
<span id="cb50-11"><a href="statistical-tests-in-r.html#cb50-11" aria-hidden="true" tabindex="-1"></a>pval_1_2 <span class="ot">&lt;-</span> <span class="fu">extract_test_coef</span>(m1, <span class="st">&quot;sepal_width_tercile_1 - sepal_width_tercile_2&quot;</span>)</span>
<span id="cb50-12"><a href="statistical-tests-in-r.html#cb50-12" aria-hidden="true" tabindex="-1"></a>pval_1_3 <span class="ot">&lt;-</span> <span class="fu">extract_test_coef</span>(m1, <span class="st">&quot;sepal_width_tercile_1 - sepal_width_tercile_3&quot;</span>)</span></code></pre></div>
<p>Finally, we add the p-values to the model results using the <code>add_row</code> argument of the <code>mshow</code> function.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="statistical-tests-in-r.html#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Add p-values to model results</span></span>
<span id="cb51-2"><a href="statistical-tests-in-r.html#cb51-2" aria-hidden="true" tabindex="-1"></a>add_row <span class="ot">&lt;-</span> <span class="fu">tribble</span>(<span class="sc">~</span>name, <span class="sc">~</span>value,</span>
<span id="cb51-3"><a href="statistical-tests-in-r.html#cb51-3" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;P-value (Sepal width 1st tercile = Sepal width 2nd tercile)&quot;</span>, <span class="fu">comma_format</span>(pval_1_2),</span>
<span id="cb51-4"><a href="statistical-tests-in-r.html#cb51-4" aria-hidden="true" tabindex="-1"></a>                   <span class="st">&quot;P-value (Sepal width 1st tercile = Sepal width 3rd tercile)&quot;</span>, <span class="fu">comma_format</span>(pval_1_3))</span>
<span id="cb51-5"><a href="statistical-tests-in-r.html#cb51-5" aria-hidden="true" tabindex="-1"></a><span class="fu">mshow</span>(<span class="fu">list</span>(<span class="st">&quot;Petal width&quot;</span> <span class="ot">=</span> m1), </span>
<span id="cb51-6"><a href="statistical-tests-in-r.html#cb51-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">coef_map =</span> coef_names, </span>
<span id="cb51-7"><a href="statistical-tests-in-r.html#cb51-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">add_row =</span> add_row)</span></code></pre></div>
<table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:left;">
</th>
<th style="text-align:center;">
Petal width
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Sepal length
</td>
<td style="text-align:center;">
0.732***
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.041)
</td>
</tr>
<tr>
<td style="text-align:left;">
First tercile sepal width
</td>
<td style="text-align:center;">
−2.882***
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.242)
</td>
</tr>
<tr>
<td style="text-align:left;">
Second tercile sepal width
</td>
<td style="text-align:center;">
−3.083***
</td>
</tr>
<tr>
<td style="text-align:left;">
</td>
<td style="text-align:center;">
(0.237)
</td>
</tr>
<tr>
<td style="text-align:left;">
Third tercile sepal width
</td>
<td style="text-align:center;">
−3.261***
</td>
</tr>
<tr>
<td style="text-align:left;box-shadow: 0px 1px">
</td>
<td style="text-align:center;box-shadow: 0px 1px">
(0.215)
</td>
</tr>
<tr>
<td style="text-align:left;">
Num.Obs.
</td>
<td style="text-align:center;">
150
</td>
</tr>
<tr>
<td style="text-align:left;">
P-value (Sepal width 1st tercile = Sepal width 2nd tercile)
</td>
<td style="text-align:center;">
0.008
</td>
</tr>
<tr>
<td style="text-align:left;">
P-value (Sepal width 1st tercile = Sepal width 3rd tercile)
</td>
<td style="text-align:center;">
0.000
</td>
</tr>
</tbody>
</table>
<p>From the results of these hypotheses tests, we can reject the hypothesis that the effect of the first tercile of sepal width on petal width is equal to the effect of the second tercile of sepal width on petal width, and that the effect of the first tercile of sepal width on petal width is equal to the effect of the third tercile of sepal width on petal width.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="generating-publication-quality-tables.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="geographic-place-matching.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/03-stat_tests.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
